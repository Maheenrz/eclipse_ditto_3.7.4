
1.0maheenrz_eclipse-ditto-3-7-4JavaFrontend"1753508603224*java2.B›9
õ
ïinternal/utils/persistent-actors/src/test/java/org/eclipse/ditto/internal/utils/persistentactors/AbstractPersistentActorWithTimersAndCleanupTest.java2

package4
6
1org.eclipse.ditto.internal.utils.persistentactors5
f
aorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest7


class8

access9

public10

simple name11
5
/AbstractPersistentActorWithTimersAndCleanupTest12
z
torg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest.SNAPSHOT_THRESHOLD14

field15

private16

SNAPSHOT_THRESHOLD17
q
korg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest.NAMESPACE19

	NAMESPACE20
l
forg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest.name22


name23

TestName25

unknown26

is type27


Rule29

annotated by30
"
Recovered#typeBindingLRule;032


uses33
s
morg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest.actorSystem35

actorSystem36

ActorSystem38
o
iorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#init()V40

method41


init42

Before44
$
Recovered#typeBindingLBefore;046


references47
u
oorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#resetMocks()V49

calls50
s
morg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#tearDown()V52

tearDown53

After55
#
Recovered#typeBindingLAfter;057
}
worg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testDeleteSucceeds()V59

testDeleteSucceeds60


Test62
"
Recovered#typeBindingLTest;064
i
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$166

	protected67
&
 Recovered#typeBindingLActorRef;069

Props71

returns72
|
vorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor74
û
óorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#props(Ljava/lang/String;)LProps;76
ä
Éorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#persistenceId()Ljava/lang/String;78
∏
±org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#modifyDummyAndWaitForSnapshotSuccess(LTestKit;LActorRef;ILjava/time/Duration;)V80

EntityId82
ß
†org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#extractEntityIdFromPersistenceId(Ljava/lang/String;)LEntityId;84
4
.Recovered#typeBindingLCleanupCommandResponse;086
∞
©org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#verifyPersistencePluginCalledWithCorrectArguments(Ljava/lang/String;I)V88
Ç
|org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testZeroStaleEventsKept()V90

testZeroStaleEventsKept91
i
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$293
ü
òorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#props(Ljava/lang/String;J)LProps;95
±
™org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#verifyPersistencePluginCalledWithCorrectArguments(Ljava/lang/String;II)V97
Ç
|org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testDeleteMessagesFails()V99

testDeleteMessagesFails100
j
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$3102
É
|org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testDeleteSnapshotFails()V104

testDeleteSnapshotFails105
j
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$4107
ò
êorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testDeleteNotCalledWhenRevisionDidNotChange()V109
2
+testDeleteNotCalledWhenRevisionDidNotChange110
j
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$5112
©
°org.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testConcurrentCleanupCommandFailsWhenAnotherCleanupIsRunning()V114
C
<testConcurrentCleanupCommandFailsWhenAnotherCleanupIsRunning115
j
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$6117
í
äorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest#testDeleteIsCalledWhenRevisionChanged()V119
,
%testDeleteIsCalledWhenRevisionChanged120
j
corg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$7122
+
$modifyDummyAndWaitForSnapshotSuccess123
&
Recovered#typeBindingLTestKit;0125

	has param126
2
+Recovered#typeBindingLSaveSnapshotSuccess;0128
8
1verifyPersistencePluginCalledWithCorrectArguments129


resetMocks130

persistenceId131
'
 extractEntityIdFromPersistenceId132
)
"Recovered#typeBindingLEntityType;0134

DummyPersistentActor135
J
CRecovered#typeBindingLAbstractPersistentActorWithTimersAndCleanup;0137

extends138
å
Ñorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor.persistenceId140
é
Üorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor.staleEventsKept142

staleEventsKept143
ê
àorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor.lastSnapshotSeqNo145

lastSnapshotSeqNo146
õ
ìorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#<init>(Ljava/lang/String;J)V148

props149
&
Recovered#typeBindingLCreator;0151
ù
ïorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#staleEventsKeptAfterCleanup()J153
"
staleEventsKeptAfterCleanup154
°
ôorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#getLatestSnapshotSequenceNumber()J156
&
getLatestSnapshotSequenceNumber157
û
ñorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#createReceiveRecover()LReceive;159

createReceiveRecover160

Receive162
ó
èorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#createReceive()LReceive;164

createReceive165
2
+AbstractPersistentActorWithTimersAndCleanup167
†
òorg.eclipse.ditto.internal.utils.persistentactors.AbstractPersistentActorWithTimersAndCleanupTest$DummyPersistentActor#persistenceId()Ljava/lang/String;169J

1
12Z

3	
354j˚
G
147@
14714841 *
1ó	 ó(273:3B
	
9
16

11
135

166
16616726
9
64
678 *
1/ /(=:3B
	
9
10


11
12

136
13613726
C
96=
969741 *
1Ù Ù(26:3B
	
9
16

11
129
G
158@
15815941 *
1Ø	 Ø(
273:3B
	
9
10

11
160
@
58:
585941 *
1G G(26:3B
	
9
10


11
60
:
1163
1161178 *
1±" ±(#2113:3B
	
9
67
:
1113
1111128 *
1ó" ó(#2108:3B
	
9
67
G
152@
15215341 *
1•	 •(
273:3B
	
9
67

11
154
:
1213
1211228 *
1»" »(#2118:3B
	
9
67

31
313226

45
454626

61
616226
A
98;
989941 *
1m m(26:3B
	
9
10

11
100
G
141@
14114215 *
1î	 î(273:3B
	
9
16

11
143
F
103?
10310441 *
1Ç Ç(26:3B
	
9
10

11
105
F
118?
11811941 *
1∆ ∆(26:3B
	
9
10

11
120
B
73<
73748 *
1ë ë(,26:3B
	
9
67

11
135

24
242526
D
94>
949541 *
1†	 †(273:3B
	
9
67

11
149
C
79=
798041 *
1Ê Ê(26:3B
	
9
16

11
123

127
12712826
4
92.
92938 *
1\" \(#289:3B
	
9
67

133
13313426
4
65.
65668 *
1I" I(#258:3B
	
9
67
:
1063
1061078 *
1Ñ" Ñ(#2103:3B
	
9
67
7
1010
1011028 *
1o" o(#298:3B
	
9
67
@
39:
394041 *
19 9(26:3B
	
9
10


11
42

150
15015126

124
12412526
C
87=
878841 *
1 (26:3B
	
9
16

11
129
C
77=
777841 *
1Å Å(26:3B
	
9
16

11
131
G
139@
13914015 *
1ì	 ì(273:3B
	
9
16

11
131

63
636426

28
282926

37
373826

43
434426
@
18:
181915 *
12 2(26:3B
	
9
16


11
20

56
565726

68
686926
D
75>
757641 *
1ú	 ú(273:3B
	
9
67

11
149
@
13:
131415 *
11 1(26:3B
	
9
16


11
17

70
707126
G
155@
15515641 *
1™	 ™(
273:3B
	
9
67

11
157
@
51:
515241 *
1? ?(26:3B
	
9
10


11
53
C
83=
838441 *
1Ö Ö(26:3B
	
9
16

11
132
C
48=
484941 *
1¸ ¸(26:3B
	
9
16

11
130
@
34:
343515 *
17 7(26:3B
	
9
16


11
36
G
163@
16316441 *
1∂	 ∂(
273:3B
	
9
10

11
165
@
21:
212215 *
14 4(26:3B
	
9
10


11
23
G
168@
16816941 *
1Õ	 Õ(
273:3B
	
9
10

11
131
F
113?
11311441 *
1Ø Ø(26:3B
	
9
10

11
115
G
144@
14414515 *
1ï	 ï(273:3B
	
9
16

11
146

81
818226

85
858626

54
545526

161
16116226
F
108?
10810941 *
1ï ï(26:3B
	
9
10

11
110
@
89:
899041 *
1Z Z(26:3B
	
9
10


11
91r˝A

212427*
15 5(

212830*
14 4(

213133*
14 4(


212433*
15 5(

212433*
15 5(

343727*
17 7(

343733*
17 7(

343733*
17 7($

394330*
19 9(

394533*
19 9(

39647*
1;	 ;(

394850*
1;	 ;(

393733*
1<	 <(

393447*
1<	 <(

392147*
1<* <(.

392433*
1<* <(.

392147*
1<* <(.

515430*
1? ?(

515633*
1? ?(

513733*
1A A(

513447*
1A A(

513733*
1B) B(4

513447*
1B) B(4

513733*
1D	 D(

513447*
1D	 D(

586130*
1G G(

586333*
1G G(


583733*
1I I( 

583447*
1I I( 

656827*
1K K(,

656833*
1K K(

657072*
1K< K(P

657347*
1K< K(P

657550*
1KQ K(V

657347*
1K< K(P

657333*
1K< K(P

657347*
1K< K(P

65647*
1KW K(d

657750*
1KW K(d

65647*
1L L(1

657950*
1L L(1

65633*
1L2 L(6

65647*
1L2 L(6

658172*
1P+ P(K

65647*
1P+ P(K

658350*
1P+ P(K

65647*
1PL P(Y

657750*
1PL P(Y

658527*
1T- T(C

658533*
1T T()

658533*
1TU T(k

65647*
1V V(>

658750*
1V V(>

65647*
1V? V(L

657750*
1V? V(L

896130*
1Z Z(

896333*
1Z Z(


893733*
1\ \( 

893447*
1\ \( 

926827*
1^ ^(,

926833*
1^ ^(

927072*
1^< ^(P

927347*
1^< ^(P

929450*
1^Q ^(V

927347*
1^< ^(P

927333*
1^< ^(P

927347*
1^< ^(P

92647*
1^W ^(d

927750*
1^W ^(d

92647*
1_ _(1

927950*
1_ _(1

92633*
1_2 _(6

92647*
1_2 _(6

928172*
1c+ c(K

92647*
1c+ c(K

928350*
1c+ c(K

92647*
1cL c(Y

927750*
1cL c(Y

928527*
1g- g(C

928533*
1g g()

928533*
1gU g(k

92647*
1i i(>

929650*
1i i(>

92647*
1i? i(L

927750*
1i? i(L

986130*
1m m(

986333*
1m m(


983733*
1o o( 

983447*
1o o( 

1016827*
1q q(,

1016833*
1q q(

1017072*
1q< q(P

1017347*
1q< q(P

1017550*
1qQ q(V

1017347*
1q< q(P

1017333*
1q< q(P

1017347*
1q< q(P

101647*
1t t(1

1017950*
1t t(1

101633*
1t2 t(6

101647*
1t2 t(6

1018172*
1w+ w(K

101647*
1w+ w(K

1018350*
1w+ w(K

1018527*
1z- z(C

1018533*
1z z()

1018533*
1zU z(k

101647*
1~ ~(>

1019650*
1~ ~(>

1036130*
1Ç Ç(

1036333*
1Ç Ç(


1033733*
1Ñ Ñ( 

1033447*
1Ñ Ñ( 

1066827*
1Ü Ü(,

1066833*
1Ü Ü(

1067072*
1Ü< Ü(P

1067347*
1Ü< Ü(P

1067550*
1ÜQ Ü(V

1067347*
1Ü< Ü(P

1067333*
1Ü< Ü(P

1067347*
1Ü< Ü(P

106647*
1á á(1

1067950*
1á á(1

106633*
1á2 á(6

106647*
1á2 á(6

1068172*
1ã+ ã(K

106647*
1ã+ ã(K

1068350*
1ã+ ã(K

1068527*
1è- è(C

1068533*
1è è()

1068533*
1èU è(k

106647*
1ë ë(>

1068750*
1ë ë(>

1086130*
1ï ï(

1086333*
1ï ï(


1083733*
1ó ó( 

1083447*
1ó ó( 

1116827*
1ô ô(,

1116833*
1ô ô(

1117072*
1ô< ô(P

1117347*
1ô< ô(P

1117550*
1ôQ ô(V

1117347*
1ô< ô(P

1117333*
1ô< ô(P

1117347*
1ô< ô(P

111647*
1ôW ô(d

1117750*
1ôW ô(d

111647*
1ö ö(1

1117950*
1ö ö(1

111633*
1ö2 ö(6

111647*
1ö2 ö(6

1118172*
1û+ û(K

111647*
1û+ û(K

1118350*
1û+ û(K

111647*
1ûL û(Y

1117750*
1ûL û(Y

1118527*
1†- †(6

1118533*
1† †()

1118533*
1†H †(^

1118172*
1•+ •(K

111647*
1•+ •(K

1118350*
1•+ •(K

111647*
1•L •(Y

1117750*
1•L •(Y

1118527*
1ß- ß(6

1118533*
1ß ß()

1118533*
1ßH ß(^

111647*
1´ ´(>

1118750*
1´ ´(>

111647*
1´? ´(L

1117750*
1´? ´(L

1136130*
1Ø Ø(

1136333*
1Ø Ø(


1133733*
1± ±( 

1133447*
1± ±( 

1166827*
1≥ ≥(,

1166833*
1≥ ≥(

1167072*
1≥< ≥(P

1167347*
1≥< ≥(P

1167550*
1≥Q ≥(V

1167347*
1≥< ≥(P

1167333*
1≥< ≥(P

1167347*
1≥< ≥(P

116647*
1¥ ¥(1

1167950*
1¥ ¥(1

116633*
1¥2 ¥(6

116647*
1¥2 ¥(6

1168172*
1∑9 ∑(Y

116647*
1∑9 ∑(Y

1168350*
1∑9 ∑(Y

1168172*
1∫9 ∫(Y

116647*
1∫9 ∫(Y

1168350*
1∫9 ∫(Y

1168527*
1Ω- Ω(:

1168533*
1Ω Ω()

1168533*
1æE æ([

116647*
1¬ ¬(>

1168750*
1¬ ¬(>

1186130*
1∆ ∆(

1186333*
1∆ ∆(


1183733*
1» »( 

1183447*
1» »( 

1216827*
1   (,

1216833*
1   (

1217072*
1 <  (P

1217347*
1 <  (P

1217550*
1 Q  (V

1217347*
1 <  (P

1217333*
1 <  (P

1217347*
1 <  (P

121647*
1 W  (d

1217750*
1 W  (d

121647*
1À À(1

1217950*
1À À(1

121633*
1À2 À(6

121647*
1À2 À(6

1218172*
1œ+ œ(K

121647*
1œ+ œ(K

1218350*
1œ+ œ(K

121647*
1œL œ(Y

1217750*
1œL œ(Y

1218527*
1”- ”(D

1218533*
1” ”()

1218533*
1”V ”(l

121647*
1◊ ◊(1

1217950*
1◊ ◊(1

121633*
1◊2 ◊(6

121647*
1◊2 ◊(6

1218172*
1⁄+ ⁄(K

121647*
1⁄+ ⁄(K

1218350*
1⁄+ ⁄(K

121647*
1⁄L ⁄(Y

1217750*
1⁄L ⁄(Y

1218527*
1ﬁ- ﬁ(D

1218533*
1ﬁ ﬁ()

1218533*
1ﬁV ﬁ(l

121647*
1· ·(>

1218750*
1· ·(>

121647*
1·? ·(L

1217750*
1·? ·(L

121647*
1‚ ‚(>

1218750*
1‚ ‚(>

121647*
1‚? ‚(L

1217750*
1‚? ‚(L

79124126*
1ÊD Ê(K

7968126*
1Á Á(

7912427*
1ÊL Ê(S

7912433*
1ÊD Ê(K

796827*
1Á Á(,

796833*
1Á Á(

791347*
1Ï$ Ï(6

7912733*
1Ì Ì($

87647*
1Ò	 Ò(:

879650*
1Ò	 Ò(:

771847*
1Ç/ Ç(8

772147*
1ÇA Ç(E

772433*
1ÇA Ç(E

772147*
1ÇA Ç(E

838172*
1Ö Ö(

838133*
1Ö Ö(

8313327*
1ç ç(

8313333*
1ç ç(

73136138*
1ë5 ë(`

7313633*
1ë5 ë(`

1477350*
1ó ó(%

1477333*
1ò ò(

1477347*
1ò ò(

14713947*
1ò ò(

1477333*
1ô ô(

1477347*
1ô ô(

14714147*
1ô ô(!

757072*
1ú ú(

757033*
1ú ú(

757072*
1ù ù(

757347*
1ù ù(

759450*
1ù ù(

947072*
1† †(

947033*
1† †(

947333*
1°! °(5

947347*
1°! °(5

9415033*
1¢ ¢(

947333*
1¢ ¢(2

947347*
1¢ ¢(2

15214147*
1ß ß(#

15514447*
1¨ ¨(%

15816172*
1∞ ∞(

15816133*
1∞ ∞(

16316172*
1∑ ∑(

16316133*
1∑ ∑(

1637347*
1∏ ∏(

16316633*
1∏ ∏(

1637347*
1∏ ∏(

16312733*
1∫$ ∫(7

16813947*
1œ œ(!